# Mend - System Architecture

## Visual Architecture (Copy to Excalidraw or Miro)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚               Flutter Mobile App                         â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  ðŸ“± Screens:                                            â”‚  â”‚
â”‚  â”‚  â€¢ Mood Check-in                                        â”‚  â”‚
â”‚  â”‚  â€¢ Recommendation Feed                                  â”‚  â”‚
â”‚  â”‚  â€¢ Elevation Plans                                      â”‚  â”‚
â”‚  â”‚  â€¢ Progress Tracking                                    â”‚  â”‚
â”‚  â”‚  â€¢ User Profile                                         â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  ðŸ”§ Tech: Flutter 3.x, Dart, Provider/Riverpod         â”‚  â”‚
â”‚  â”‚  ðŸ“¦ Packages: dio, hive, firebase_messaging            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTPS REST API
                            â”‚ JWT Authentication
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       API GATEWAY                               â”‚
â”‚                    (Django REST Framework)                      â”‚
â”‚                                                                 â”‚
â”‚  ðŸ”’ Authentication & Authorization (Supabase Auth)             â”‚
â”‚  âš¡ Rate Limiting (django-ratelimit)                           â”‚
â”‚  ðŸ“Š Request Logging                                            â”‚
â”‚  ðŸ’¾ Response Caching (Redis)                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                        â”‚
               â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DJANGO BACKEND        â”‚   â”‚   GO MICROSERVICES             â”‚
â”‚   (Main API Server)     â”‚   â”‚   (Performance-Critical)       â”‚
â”‚                         â”‚   â”‚                                â”‚
â”‚  ðŸ“‹ Core Services:      â”‚   â”‚  ðŸŽ¯ Service 1:                â”‚
â”‚  â”œâ”€ User Management     â”‚   â”‚     Recommendation Engine      â”‚
â”‚  â”œâ”€ Mood Tracking       â”‚   â”‚     â€¢ Mood â†’ Content matching  â”‚
â”‚  â”œâ”€ Content CRUD        â”‚   â”‚     â€¢ Personalization          â”‚
â”‚  â”œâ”€ Plans Management    â”‚   â”‚     â€¢ Scoring algorithm        â”‚
â”‚  â”œâ”€ Analytics           â”‚   â”‚                                â”‚
â”‚  â””â”€ Admin Panel         â”‚   â”‚  ðŸ“… Service 2:                â”‚
â”‚                         â”‚   â”‚     Plan Generator             â”‚
â”‚  ðŸ”§ Stack:              â”‚   â”‚     â€¢ Multi-day planning       â”‚
â”‚  â€¢ Django 5.x           â”‚   â”‚     â€¢ Activity scheduling      â”‚
â”‚  â€¢ DRF                  â”‚   â”‚     â€¢ Mood progression         â”‚
â”‚  â€¢ Celery (tasks)       â”‚   â”‚                                â”‚
â”‚  â€¢ PostgreSQL           â”‚   â”‚  ðŸ“Š Service 3:                â”‚
â”‚                         â”‚   â”‚     Analytics Engine           â”‚
â”‚                         â”‚   â”‚     â€¢ Pattern detection        â”‚
â”‚                         â”‚   â”‚     â€¢ Insight generation       â”‚
â”‚                         â”‚   â”‚                                â”‚
â”‚                         â”‚   â”‚  ðŸ”” Service 4:                â”‚
â”‚                         â”‚   â”‚     Notification Service       â”‚
â”‚                         â”‚   â”‚     â€¢ Push notifications       â”‚
â”‚                         â”‚   â”‚     â€¢ Scheduling (cron)        â”‚
â”‚                         â”‚   â”‚                                â”‚
â”‚                         â”‚   â”‚  ðŸ”§ Tech: Go 1.21+, Gin/Echo  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                            â”‚
          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚         â”‚
          â”‚         â”‚ REST / gRPC / Message Queue
          â”‚         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATA LAYER                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   PostgreSQL (Supabase)  â”‚  â”‚   Redis Cache           â”‚ â”‚
â”‚  â”‚                          â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚  Tables:                 â”‚  â”‚  â€¢ Session data         â”‚ â”‚
â”‚  â”‚  â€¢ user_profiles         â”‚  â”‚  â€¢ API responses        â”‚ â”‚
â”‚  â”‚  â€¢ mood_entries          â”‚  â”‚  â€¢ Recommendation cache â”‚ â”‚
â”‚  â”‚  â€¢ content               â”‚  â”‚  â€¢ Rate limit counters  â”‚ â”‚
â”‚  â”‚  â€¢ elevation_plans       â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚  â€¢ plan_days             â”‚  â”‚  ðŸ”§ Redis 7+           â”‚ â”‚
â”‚  â”‚  â€¢ plan_activities       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  â€¢ user_interactions     â”‚                              â”‚
â”‚  â”‚  â€¢ mood_insights         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ user_streaks          â”‚  â”‚  Supabase Storage       â”‚ â”‚
â”‚  â”‚  â€¢ saved_content         â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚                          â”‚  â”‚  â€¢ User avatars         â”‚ â”‚
â”‚  â”‚  ðŸ”§ PostgreSQL 15+       â”‚  â”‚  â€¢ Content images       â”‚ â”‚
â”‚  â”‚  ðŸ” Row-level security   â”‚  â”‚  â€¢ Thumbnails           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  EXTERNAL SERVICES                           â”‚
â”‚                                                              â”‚
â”‚  ðŸŽµ Spotify API          ðŸŽ¬ TMDB API         ðŸ“š Google Booksâ”‚
â”‚  (Music streaming)       (Movie data)        (Book info)    â”‚
â”‚                                                              â”‚
â”‚  ðŸ“– Bible API            ðŸ”” FCM/APNS         ðŸ“Š Mixpanel    â”‚
â”‚  (Bible verses)          (Push notifications) (Analytics)   â”‚
â”‚                                                              â”‚
â”‚  ðŸ’³ Stripe               ðŸ“§ SendGrid                        â”‚
â”‚  (Payments)              (Transactional email)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Request Flow Examples

### 1. User Mood Check-in â†’ Recommendations

```
â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚      â”‚ Flutter â”‚      â”‚ Django â”‚      â”‚    Go    â”‚      â”‚   DB     â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚ Select mood  â”‚                â”‚                â”‚                 â”‚
    â”‚ "sad" (7/10) â”‚                â”‚                â”‚                 â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚ POST /api/moods/               â”‚                 â”‚
    â”‚              â”‚ {mood: "sad",  â”‚                â”‚                 â”‚
    â”‚              â”‚  intensity: 7} â”‚                â”‚                 â”‚
    â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ INSERT mood_entry                â”‚
    â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ POST /recommendâ”‚                 â”‚
    â”‚              â”‚                â”‚ {user_id,      â”‚                 â”‚
    â”‚              â”‚                â”‚  mood: "sad",  â”‚                 â”‚
    â”‚              â”‚                â”‚  preferences}  â”‚                 â”‚
    â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚ Query content   â”‚
    â”‚              â”‚                â”‚                â”‚ by mood         â”‚
    â”‚              â”‚                â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚              â”‚                â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚ Score & rank    â”‚
    â”‚              â”‚                â”‚                â”‚ Personalize     â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ Return top 5   â”‚                 â”‚
    â”‚              â”‚                â”‚ recommendationsâ”‚                 â”‚
    â”‚              â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚ 201 Created    â”‚                â”‚                 â”‚
    â”‚              â”‚ {mood_id,      â”‚                â”‚                 â”‚
    â”‚              â”‚  recommendations[]}             â”‚                 â”‚
    â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚ Display feed â”‚                â”‚                â”‚                 â”‚
    â”‚ with 5 items â”‚                â”‚                â”‚                 â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
```

### 2. Creating 7-Day Elevation Plan

```
â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚      â”‚ Flutter â”‚      â”‚ Django â”‚      â”‚Go Plan   â”‚      â”‚   DB     â”‚
â”‚      â”‚      â”‚         â”‚      â”‚        â”‚      â”‚Generator â”‚      â”‚          â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚ Fill plan    â”‚                â”‚                â”‚                 â”‚
    â”‚ creation formâ”‚                â”‚                â”‚                 â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚ POST /api/plans/create/         â”‚                 â”‚
    â”‚              â”‚ {current: "sad",                â”‚                 â”‚
    â”‚              â”‚  target: "peaceful",            â”‚                 â”‚
    â”‚              â”‚  duration: 7}  â”‚                â”‚                 â”‚
    â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ POST /generate â”‚                 â”‚
    â”‚              â”‚                â”‚ {user_id,      â”‚                 â”‚
    â”‚              â”‚                â”‚  current_mood, â”‚                 â”‚
    â”‚              â”‚                â”‚  target_mood,  â”‚                 â”‚
    â”‚              â”‚                â”‚  duration: 7}  â”‚                 â”‚
    â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚ Calculate       â”‚
    â”‚              â”‚                â”‚                â”‚ mood arc        â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚ Query content   â”‚
    â”‚              â”‚                â”‚                â”‚ for each day    â”‚
    â”‚              â”‚                â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚              â”‚                â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚ Generate 7-day  â”‚
    â”‚              â”‚                â”‚                â”‚ activity plan   â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ Plan structure â”‚                 â”‚
    â”‚              â”‚                â”‚ (21 activities)â”‚                 â”‚
    â”‚              â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ Save plan to DBâ”‚                 â”‚
    â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚ Schedule Celeryâ”‚                 â”‚
    â”‚              â”‚                â”‚ notification   â”‚                 â”‚
    â”‚              â”‚                â”‚ tasks (7 days) â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚ 201 Created    â”‚                â”‚                 â”‚
    â”‚              â”‚ {plan_id,      â”‚                â”‚                 â”‚
    â”‚              â”‚  preview}      â”‚                â”‚                 â”‚
    â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
    â”‚ Navigate to  â”‚                â”‚                â”‚                 â”‚
    â”‚ plan screen  â”‚                â”‚                â”‚                 â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚                 â”‚
    â”‚              â”‚                â”‚                â”‚                 â”‚
```

---

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRODUCTION                              â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  App Store &   â”‚         â”‚  Play Store    â”‚             â”‚
â”‚  â”‚  TestFlight    â”‚         â”‚                â”‚             â”‚
â”‚  â”‚  (Flutter App) â”‚         â”‚  (Flutter App) â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Railway / Render / DigitalOcean         â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
â”‚  â”‚  â”‚   Django     â”‚    â”‚  Go Services â”‚             â”‚  â”‚
â”‚  â”‚  â”‚   (Gunicorn) â”‚    â”‚  (containers)â”‚             â”‚  â”‚
â”‚  â”‚  â”‚              â”‚    â”‚              â”‚             â”‚  â”‚
â”‚  â”‚  â”‚  Port: 8000  â”‚    â”‚  Port: 8080  â”‚             â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
â”‚  â”‚  â”‚   Celery     â”‚    â”‚   Redis      â”‚             â”‚  â”‚
â”‚  â”‚  â”‚   Workers    â”‚    â”‚   (cache)    â”‚             â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Supabase                          â”‚  â”‚
â”‚  â”‚  â€¢ PostgreSQL Database                               â”‚  â”‚
â”‚  â”‚  â€¢ Authentication                                    â”‚  â”‚
â”‚  â”‚  â€¢ File Storage                                      â”‚  â”‚
â”‚  â”‚  â€¢ Real-time subscriptions (future)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚               CDN (Cloudflare)                       â”‚  â”‚
â”‚  â”‚  â€¢ Static assets                                     â”‚  â”‚
â”‚  â”‚  â€¢ Image optimization                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack Summary

| Layer | Technology | Purpose |
|-------|-----------|---------|
| **Frontend** | Flutter 3.x | Mobile app (iOS/Android) |
| **API Gateway** | Django REST Framework | Main API server |
| **Backend Logic** | Django 5.x + Python 3.11 | Business logic, CRUD |
| **Microservices** | Go 1.21+ | Performance-critical tasks |
| **Database** | PostgreSQL 15+ (Supabase) | Primary data store |
| **Cache** | Redis 7+ | API caching, sessions |
| **Storage** | Supabase Storage | Images, files |
| **Auth** | Supabase Auth | User authentication |
| **Queue** | Celery + Redis | Background tasks |
| **Push** | Firebase Cloud Messaging | Notifications |
| **Analytics** | Mixpanel | User behavior tracking |
| **Payments** | Stripe | Premium subscriptions |
| **Hosting** | Railway/Render/DigitalOcean | Application hosting |
| **CDN** | Cloudflare | Static assets |

---

## Development vs Production

| Component | Development | Production |
|-----------|-------------|------------|
| Django | `python manage.py runserver` | Gunicorn + Nginx |
| Go Services | Local binary | Docker containers |
| Database | Local PostgreSQL or Supabase Dev | Supabase Production |
| Redis | Local Redis | Redis Cloud / Railway Redis |
| Storage | Local filesystem | Supabase Storage |
| Monitoring | Django Debug Toolbar | Sentry + Datadog |